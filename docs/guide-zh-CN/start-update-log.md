## 更新历史

升级说明：  
> 创建一个Git版本库，并创建二个分支比如A、B，A分支默认为你的二开分支、B分支为你的版本库分支。  
> 等需要升级的时候，把版本库分支(B)升级为最新的版本，然后切换到A分支，把B分支合并过来，解决掉合并冲突即可。

### v2.0.96
updated 2018.12.7

- 增加: 下载微信临时资源文件Demo
- 增加: 报错日志服务支持队列
- 增加: 发送邮件服务支持队列
- 增加: 显示第三方绑定会员信息
- 增加: Base64格式图片上传到Oss/七牛
- 增加: 百度编辑器远程图片上传到Oss/七牛
- 修复: 关闭 Tag 页签时点击菜单不会重新加载菜单页面
- 修复: 后台头像编辑时候每次打开关闭会让样式往左不会复原
- 修复: 系统服务内 __get 方法内判断子服务类型错误
- 优化: 文件上传的Oss/七牛对象存储的接管上传方式
- 兼容: Grid 多主键的 CurdTrait 状态修改

### v2.0.85
updated 2018.11.29

- 增加: 发送文字消息给微信粉丝
- 增加: 百度编辑器Oss/Qiniu上传，目前只支持文件/图片/视频
- 增加: 百度编辑器可拉取远程图片然后上传到本地
- 增加: Ffmpeg辅助类，提供提取视频信息转码等
- 优化: 微信接口报错机制，获取错误信息更加友好
- 优化: 插件模块后台必须登录才可访问
- 修复: 删除权限/菜单分类时未删除其全部子权限/菜单
- 修复: 实例化插件模块前未关闭csrf，导致插件模块内的csrf关闭/开启无效
- 修复: 文件辅助类的日志写入创建地址问题
- 修复: Windows下微信语音中文名上传报错

### v2.0.75
updated 2018.11.22

- 增加: 多图上传/多文件上传支持拖动排序
- 增加: 插件模块的钩子(hook)支持多个hook方法
- 增加: 示例模块的 Grid 案例
- 优化: 代码的规范和命名规则
- 优化: api日志记录改成全局日志，支持 wechat/backend/frontend 报错记录
- 修复: 插件模块下自带的ajax更新找不到id

### v2.0.69
updated 2018.11.16

- 优化: api日志记录，增加记录级别更好的进行区分报错
- 优化: 插件模块的资源目录，更加友好的区分前后台微信的资源，且和Yii2资源结构保持一致
- 修复: 修改菜单默认显示时候，未干掉其他正在显示的菜单
- 修复: 开启上传前缀时，百度编辑器选择在线管理的附件/图片前缀为空
- 修复: 角色授权显示时候，会把顶级分类下面的所有子分类都选中

### v2.0.64
updated 2018.11.10

- 增加: 微信定时发送
- 增加: 前台 i18n 国际化Demo
- 增加: 前台 第三方登录 Demo
- 增加: 无权限菜单不显示
- 优化: 微信自定义回复的语音和视频选择
- 优化: 省市区数据为最新的2017.10.31的国家统计局省市区数据
- 优化: 前台关于图片上传的js和css引入，避免资源依赖找不到
- 优化: 插件模块查询机制, 增加数据缓存依赖，依赖时间为 360 秒
- 优化: 文件上传的处理
- 优化: 分片上传的文件合并机制
- 修复: Windows下百度编辑器查找文件列表中文编码报错
- 修复: Windows下上传文件中文名报错
- 修复: 网站配置的多图上传引入路径错误
- 修复: 定时任务路径问题导致执行失败

### v2.0.50
updated 2018.11.1

- 增加: 公用支付的银联支付及文档
- 增加: Api二次加密验证机制Demo
- 增加: `购物节` 模块的微信分享Demo，需手动开启
- 增加: `示例管理`模块的Api入口Demo
- 增加: 服务层调用Demo及说明文档
- 优化: 必填文本框Css显示及一些页面小优化
- 优化: Api的登录机制，支持多端登录(app/微信/小程序等)
- 优化: 插件模块路由机制，支持多级控制器目录
- 优化: 插件模块 hook 查询机制减少模块内重复调用的数据查询
- 优化: Excel导出辅助类，优化填写header错误导致报错
- 修复: 插件模块左边菜单过长导致显示不全
- 修复: 插件模块Api入口 `POST/PUT/DELETE` 等方法访问失败

### v2.0.38
updated 2018.10.17

- 增加: JS方法提供内页打开新标签页面
- 优化: 自动回复的图片回复选择方式
- 优化: 自动回复的图文回复选择方式
- 修复: 第三方授权的字段名错误导致用户数据插入失败

### v2.0.34
updated 2018.10.15

- 增加: 内容管理插件的前台显示Demo
- 增加: 会员积分/余额变动日志接口
- 增加: 插件模块 `购物节` 签到抽奖微信页面的Demo
- 优化: 插件模块的Hook渲染报错机制
- 修复: 小程序解析数据变量重复导致获取不到session信息
- 修复: 第三方授权的字段名错误导致验证失败

### v2.0.28
updated 2018.10.10

- 优化: Api解耦速率控制，可自由选择是否被速率控制

### v2.0.27
updated 2018.10.10

- 优化: 缓存清理各个应用的缓存文件夹读写判断
- 优化: 后台总管理员安全权限，初始化安装时随机总管理员的账号密码
- 修复: Linux环境下创建插件报找不到模板文件
- 修复: Excel导入找不到最后一列数据

### v2.0.23
updated 2018.9.30

- 增加: 图片上传可压缩图片质量，从 `common/config/params` 里面配置
- 增加: 图片水印，从 `common/config/params` 里面配置
- 增加: 示例管理模块的消息队列、ElasticSearch、默认搜索 的 Demo
- 优化: 子权限账号后台权限名称显示
- 修复: 角色权限授权采用了jstree后，折叠顶级节点的时候无法获取到子节点

### v2.0.18
updated 2018.9.26

- 增加: 示例管理模块 `MongoDB` 的 Curd，如需测试请自行安装 php 的 mongodb 扩展和 MongoDb 环境
- 优化: 多图上传的显示样式及功能
- 优化: 微信/小程序支付Demo，调整公用的回调控制器
- 修复: 由于上传视频和语音开启了全域名返回导致的上传到微信服务器错误
- 修复: 由于 api 的 controllerMap 位置不对导致的报错

### v2.0.13
updated 2018.9.21

- 增加: 扩展模块 `文章管理` 提供二开示例及使用
- 修复: 由于默认微信参数没有导致的自动回复报错
- 修复: 由于上传图片开启了全域名返回导致的上传到微信服务器错误
- 修复: 由于上传JS问题，导致了文件上传后删除时候不显示上传按钮
- 修复: 创建扩展模块时候资源目录为空引起的报错

### v2.0.8
updated 2018.9.18

- 增加: Url辅助类，用于生成前台、api、微信地址
- 修复: 权限验证时候路由规则的判断错误
- 修复: 控制台中执行 php yii 的报错
- 优化: 图片上传缩略图配置，可设置多个缩略图
- 优化: 角色权限授权，采用了jstree插件表现页面
- 优化: 增强安全机制，安装流程中增加初始化随机生成10位密码

### v2.0.2
updated 2018.9.10

- 2.0 全新上线

### v2.0.1
updated 2018.6.11

- 增加: IP地址转地区组件
- 增加: 大部分基础功能

### v2.0.0
updated 2018.5.20
 
 - 初始化: 2.0 基础框架